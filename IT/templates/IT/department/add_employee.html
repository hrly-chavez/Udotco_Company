{% extends 'IT/index.html' %}
{% load static %}
{% block content %}
    <!-- Header for Add Employee -->
    <div style="background-color: #294FA2; height: 130px; width: 100%; display: flex; justify-content: flex-start; align-items: center; border-top-left-radius: 7px; border-top-right-radius: 7px;">
        <h1 style="color: white; margin-left: 20px; font-family: 'Istok Web', sans-serif;">Add Employee</h1>
    </div>

    <!-- Centered Form Container -->
    <div style="background-color: white; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); padding: 20px; max-width: 900px; margin: 40px auto; border-radius: 7px;">

        <!-- Display form errors -->
    


        <!-- Employee Form -->
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <fieldset>
                <legend>Employee Information</legend>

                <div class="row">
                    <!-- First Name -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_fname" class="form-label mt-4">First Name</label>
                            {{ form.emp_fname }}
                        </div>
                    </div>

                    <!-- Last Name -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_lname" class="form-label mt-4">Last Name</label>
                            {{ form.emp_lname }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Middle Initial -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_initial" class="form-label mt-4">Middle Initial</label>
                            {{ form.emp_initial }}
                            {% if errors.emp_initial %}
                                <p style="color: red;">{{ errors.emp_initial }}</p>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Suffix -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_suffix" class="form-label mt-4">Suffix</label>
                            {{ form.emp_suffix }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Date of Birth -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_date_of_birth" class="form-label mt-4">Date of Birth</label>
                            {{ form.emp_date_of_birth }}
                        </div>
                    </div>

                    <!-- Sex -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_sex" class="form-label mt-4">Sex</label>
                            {{ form.emp_sex }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Address -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_address" class="form-label mt-4">Address</label>
                            {{ form.emp_address }}
                        </div>
                    </div>

                    <!-- Contact Number -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_contact_num" class="form-label mt-4">Contact Number</label>
                            {{ form.emp_contact_num }}
                            {% if errors.emp_contact_num %}
                                <p style="color: red;">{{ errors.emp_contact_num }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Role -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_role" class="form-label mt-4">Role</label>
                            {{ form.emp_role }}
                        </div>
                    </div>

                    <!-- Department -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_dept_id" class="form-label mt-4">Department</label>
                            {{ form.dept_id }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Image -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="id_emp_image" class="form-label mt-4">Upload Image</label>
                            {{ form.emp_image }}
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="form-group text-center mt-4">
                    <button type="submit" class="btn btn-primary btn-lg">Add Employee</button>
                </div>
            </fieldset>
        </form>

        <!-- Back to Employee List -->
        <div class="text-center mt-4">
            <a href="{% url 'it:department' %}" class="btn btn-secondary btn-lg">Back to Departments</a>
        </div>
    </div>

    <script>
        function setDefaultDate(element) {
            if (!element.value) {
                const today = new Date();
                const defaultDate = new Date(today.getFullYear() - 18, today.getMonth(), today.getDate());
                const formattedDate = defaultDate.toISOString().split('T')[0];
                element.value = formattedDate;
            }
        }
    </script>
{% endblock %}
