{% extends 'finance/base.html' %}

{% block content %}
    <div style="background-color: #294FA2; height: 150px; width: 100%; display: flex; justify-content: flex-start; align-items: center; border-top-left-radius: 7px; border-top-right-radius: 7px;">
        <h1 style="color: white; margin-left: 20px; font-family: 'Istok Web', sans-serif;">View Purchase Order</h1>
    </div>

    <div class="container mt-4">
        <h3>Purchase Order Details</h3>
        <div class="card p-4 mb-4">
            <p><strong>Description:</strong> {{ purchase_order.po_description }}</p>
            <p><strong>Date Created:</strong> {{ purchase_order.po_datemade|date:"F j, Y" }}</p>
            <p><strong>Status:</strong> {{ purchase_order.postat_id.postat_status }}</p>
            <p><strong>Supplier:</strong> {{ purchase_order.sup_id.sup_name }}</p>
            <p><strong>Approved By:</strong> {{ purchase_order.po_approved_by }}</p>
        </div>

        <h3>Material Orders</h3>
        <div class="card p-4 mb-4">
            {% for material in material_orders %}
                <p><strong>Material Name:</strong> {{ material.mat_odr_name }}</p>
                <p><strong>Quantity:</strong> {{ material.mat_odr_qty }}</p>
                <p><strong>Brand:</strong> {{ material.mat_odr_brand }}</p>
                <p><strong>Measurement / Size:</strong> {{ material.mat_odr_measurement }}</p>
                
                <hr>
            {% empty %}
                <p>No materials found for this purchase order.</p>
            {% endfor %}
        </div>

        <a href="{% url 'finance:purchase_odr' %}" class="btn btn-secondary">Back to Purchase Orders</a>
    </div>
{% endblock %}
